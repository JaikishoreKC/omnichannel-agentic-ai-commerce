============================= test session starts =============================
platform win32 -- Python 3.10.11, pytest-8.4.1, pluggy-1.6.0
rootdir: D:\Projects\omnichannel-agentic-commerce\backend
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-1.3.0, cov-6.2.1
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 90 items / 85 deselected / 5 selected

tests\unit\test_perf_smoke_script.py .                                   [ 20%]
tests\unit\test_repositories.py FFF                                      [ 80%]
tests\unit\test_repository_fallbacks.py F                                [100%]

================================== FAILURES ===================================
____________________ test_session_repository_count_cached _____________________
D:\Projects\omnichannel-agentic-ai-commerce\backend\tests\unit\test_repositories.py:225: in test_session_repository_count_cached
    ???
E   assert 0 == 1
E    +  where 0 = count()
E    +    where count = <app.repositories.session_repository.SessionRepository object at 0x0000021C10DF24D0>.count
________________ test_session_repository_find_latest_for_user _________________
D:\Projects\omnichannel-agentic-ai-commerce\backend\tests\unit\test_repositories.py:260: in test_session_repository_find_latest_for_user
    ???
E   assert None is not None
______________ test_session_repository_cleanup_expired_sessions _______________
D:\Projects\omnichannel-agentic-ai-commerce\backend\tests\unit\test_repositories.py:301: in test_session_repository_cleanup_expired_sessions
    ???
E   assert 0 == 1
_________ test_session_repository_external_fallbacks_delete_and_count _________
D:\Projects\omnichannel-agentic-ai-commerce\backend\tests\unit\test_repository_fallbacks.py:189: in test_session_repository_external_fallbacks_delete_and_count
    ???
E   assert None is not None
=========================== short test summary info ===========================
FAILED tests/unit/test_repositories.py::test_session_repository_count_cached
FAILED tests/unit/test_repositories.py::test_session_repository_find_latest_for_user
FAILED tests/unit/test_repositories.py::test_session_repository_cleanup_expired_sessions
FAILED tests/unit/test_repository_fallbacks.py::test_session_repository_external_fallbacks_delete_and_count
================= 4 failed, 1 passed, 85 deselected in 1.36s ==================
